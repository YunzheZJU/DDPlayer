(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{143:function(t,n,e){},144:function(t,n,e){"use strict";var s=function(){var t=this.$createElement,n=this._self._c||t;return n("button",{directives:[{name:"title",rawName:"v-title"}],staticClass:"normal-button",class:{highlight:this.highlight,active:this.active}},[this.iconType?n("Icon",{staticClass:"icon",attrs:{type:this.iconType,size:"sm"}}):this._e(),this._v(" "),n("span",{staticClass:"title"},[this._t("default")],2)],1)};s._withStripped=!0;var i=e(9),a={name:"normal-button",components:{Icon:e(5).a},directives:{Title:i.a},props:{iconType:{type:String},active:{type:Boolean,default:!1},highlight:{type:Boolean,default:!1}}},l=(e(145),e(2)),u=Object(l.a)(a,s,[],!1,null,"1417b078",null);u.options.__file="src/components/common/normal-button.vue";n.a=u.exports},145:function(t,n,e){"use strict";var s=e(143);e.n(s).a},150:function(t,n,e){},164:function(t,n,e){},167:function(t,n,e){},168:function(t,n,e){"use strict";var s=e(150);e.n(s).a},170:function(t,n,e){},171:function(t,n,e){},196:function(t,n,e){"use strict";var s=function(){var t=this.$createElement,n=this._self._c||t;return n("ScrollArea",{staticClass:"album-list"},[n("ul",[this._t("default")],2)])};s._withStripped=!0;var i={name:"album-list",components:{ScrollArea:e(11).a}},a=(e(168),e(2)),l=Object(a.a)(i,s,[],!1,null,"d1f8b000",null);l.options.__file="src/components/common/album-list.vue";n.a=l.exports},205:function(t,n,e){"use strict";var s=e(164);e.n(s).a},211:function(t,n,e){"use strict";var s=e(167);e.n(s).a},213:function(t,n,e){"use strict";var s=e(170);e.n(s).a},215:function(t,n,e){"use strict";var s=e(171);e.n(s).a},278:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fav-album"},[e("PageHeader",{attrs:{layout:"icon","icon-type":"disk-1"}},[e("template",{slot:"title"},[t._v("\n            我收藏的专辑\n        ")]),t._v(" "),e("template",{slot:"description"},[t._v("\n            "+t._s(t.myFavAlbums.length)+" 张专辑\n        ")])],2),t._v(" "),e("AlbumList",{staticClass:"fav-album-list",style:t.listStyles},t._l(t.favAlbumsList,function(t,n){return e("AlbumListItem",{key:n,staticClass:"fav-album-list-item",attrs:{album:t,index:n}})}))],1)};s._withStripped=!0;var i=e(0),a=e.n(i),l=e(1),u=e.n(l),o=e(6),r=e.n(o),c=e(7),m=e.n(c),h=e(4),v=e(196),f=e(48),p={name:"fav-album",components:{PageHeader:e(47).a,AlbumListItem:f.a,AlbumList:v.a},data:function(){return{favAlbumsList:[],myFavAlbums:[]}},computed:m()({},Object(h.b)("favorite",["favAlbums"]),Object(h.b)(["height"]),{listStyles:function(){return{height:"".concat(this.height-160,"px")}}}),watch:{favAlbums:function(t){var n,e=this;(n=this.myFavAlbums).push.apply(n,r()(t.filter(function(t){return!e.myFavAlbums.includes(t)}))),this.getData()}},methods:{getData:function(){var t=u()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$ajax.getAlbumsFullAsync(this.myFavAlbums);case 2:this.favAlbumsList=t.sent;case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){var t=this;this.favAlbums.forEach(function(n){t.myFavAlbums.includes(n)||t.myFavAlbums.push(n)}),this.getData()}},b=(e(213),e(2)),d=Object(b.a)(p,s,[],!1,null,"30160bc8",null);d.options.__file="src/components/views/album/fav-album.vue";n.default=d.exports},279:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"album-filter"})};s._withStripped=!0;var i={name:"album-filter"},a=(e(215),e(2)),l=Object(a.a)(i,s,[],!1,null,"fdb96bf2",null);l.options.__file="src/components/views/album/album-filter.vue";n.default=l.exports},292:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"album"},[n("router-view")],1)};s._withStripped=!0;var i={name:"album"},a=(e(205),e(2)),l=Object(a.a)(i,s,[],!1,null,"78daedce",null);l.options.__file="src/components/views/album/album.vue";n.default=l.exports},295:function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.album.id?e("div",{staticClass:"album-detail"},[e("PageHeader",{attrs:{layout:"disk",imageSrc:t.album.imageUrl,"is-bold-title":!0}},[e("template",{slot:"title"},[t._v("\n            "+t._s(t.album.title)+"\n        ")]),t._v(" "),e("template",{slot:"description-1"},[t._v("\n            歌手：\n            "),t._v(" "),t._l(t.album.simpleArtistInfos,function(n,s){return[e("router-link",{key:s,staticClass:"highlight",attrs:{to:{name:"artist-detail",params:{id:n.id}},title:n.name}},[t._v("\n                    "+t._s(n.name)+"\n                ")]),t._v(" "),s!==t.album.simpleArtistInfos.length-1?[t._v("\n                    /\n                ")]:t._e()]})],2),t._v(" "),e("template",{slot:"description-2"},[t._v("\n            发行：\n            "),[t._v("\n                "+t._s(t.album.releaseDate)+"\n            ")]],2),t._v(" "),e("template",{slot:"button"},[e("NormalButton",{staticClass:"button",attrs:{title:"收藏专辑","icon-type":"disk-1",highlight:!0,active:t.isFavorite},nativeOn:{click:function(n){return t.handleClickFav(n)}}},[t.isFavorite?[t._v("\n                    已收藏\n                ")]:[t._v("\n                    收藏专辑\n                ")]],2),t._v(" "),e("NormalButton",{staticClass:"button",attrs:{"icon-type":"play-2"},nativeOn:{click:function(n){return t.handlePlayAll(n)}}},[t._v("\n                播放全部\n            ")]),t._v(" "),e("NormalButton",{staticClass:"button",attrs:{"icon-type":"plus"},nativeOn:{click:function(n){return t.handleAddToPlaylist(n)}}},[t._v("\n                加入队列\n            ")]),t._v(" "),e("NormalButton",{staticClass:"button",attrs:{"icon-type":"share"}},[t._v("\n                分享\n            ")])],1)],2),t._v(" "),e("SongList",{staticClass:"content",attrs:{"item-count":t.songs.length,"height-type":"fit","max-visible-item-count":Math.floor((t.height-220)/30)}},[t._l(t.songs,function(t,n){return e("SongListItem",{key:n,attrs:{type:"entity",song:t,theme:n%2==0?"white":"gray",index:n}})}),t._v(" "),e("template",{slot:"empty-text"},[t._v("\n            正在加载……\n        ")])],2)],1):t._e()};s._withStripped=!0;var i=e(0),a=e.n(i),l=e(49),u=e.n(l),o=e(1),r=e.n(o),c=e(7),m=e.n(c),h=e(4),v=e(151),f=e(144),p=e(152),b={name:"album-detail",components:{PageHeader:e(47).a,SongListItem:v.a,NormalButton:f.a,SongList:p.a},props:["id"],data:function(){return{album:{},songs:[],inspect:!1}},watch:{id:function(){this.getAlbum()}},computed:m()({},Object(h.b)("favorite",["favAlbums"]),Object(h.b)(["height"]),{isFavorite:function(){return this.favAlbums.includes(this.album.id)}}),methods:{getAlbum:function(){var t=r()(a.a.mark(function t(){var n,e,s,i,l,o,r=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.$ajax.getAlbumsFullAsync(this.id),e=this.$ajax.getAlbumSongsSimpleAsync(this.id),t.next=4,Promise.all([n,e]);case 4:s=t.sent,i=u()(s,2),l=i[0],o=i[1],this.album=l[0],this.inspect&&console.log(this.album),this.songs=o.map(function(t){return m()({},t,{from:{name:r.album.title,url:r.$route.path}})}),this.inspect&&console.log(this.songs);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),handleClickFav:function(){this.isFavorite?this.$store.dispatch("removeFavAlbum",this.album.id):this.$store.dispatch("addFavAlbum",this.album.id)},handlePlayAll:function(){this.$store.dispatch("playNewPlaylist",this.songs)},handleAddToPlaylist:function(){this.$store.dispatch("addToPlaylist",{position:"head",song:this.songs})}},mounted:function(){this.getAlbum()}},d=(e(211),e(2)),_=Object(d.a)(b,s,[],!1,null,"c01efb40",null);_.options.__file="src/components/views/album/album-detail.vue";n.default=_.exports}}]);